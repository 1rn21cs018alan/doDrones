!function(){let e,t;t="dodrones-"+(e="v-2025-10-21-01"),console.log("Service Worker updated: ".concat(e)),self.addEventListener("install",n=>{console.log("[SW ".concat(e,"] Installing...")),self.skipWaiting(),n.waitUntil(caches.open(t).then(e=>e.addAll(["/","/manifest.json"])))}),self.addEventListener("activate",n=>{console.log("[SW ".concat(e,"] Activating...")),n.waitUntil(Promise.all([self.clients.claim(),caches.keys().then(n=>Promise.all(n.map(n=>{if(n!==t)return console.log("[SW ".concat(e,"] Deleting old cache: ").concat(n)),caches.delete(n)})))]))}),self.addEventListener("fetch",e=>{let{request:n}=e;if("navigate"===n.mode){e.respondWith(fetch(n).then(e=>{let c=e.clone();return caches.open(t).then(e=>{e.put(n,c)}),e}).catch(()=>caches.match(n).then(e=>e||new Response("Offline - Page not cached",{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/plain"})}))));return}e.respondWith(caches.match(n).then(e=>e||fetch(n).then(e=>{if(!e||200!==e.status||"error"===e.type)return e;let c=e.clone();return caches.open(t).then(e=>{e.put(n,c)}),e})))})}();